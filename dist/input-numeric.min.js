/*!
 * input-numeric.js (0.1.2)
 * テキスト入力欄に対して、半角数字のみの入力制限を設けるライブラリ
 * Copyright (c) 2015 hiro - http://b.0218.jp/
 * This software is released under the MIT License.
 * https://github.com/hiro0218/input-numeric.js/LICENSE
 */
"use strict";var InputNumeric=function(n){function t(n){n=n||{};var t=document.getElementsByClassName(n.inputName||f),c=n.comma||!1;n.negative||!0;[].forEach.call(t,function(n){d(n,"keydown",function(n){e(n)||i(n,c)}),d(n,"focus",function(n){o(n),r(n,c)}),d(n,"blur",function(n){u(n),r(n,c)})})}function e(n){n=n||window.event;var t=n.which||n.keyCode||0,e=n.ctrlKey||n.metaKey;return e&&t==A.CHAR_C||e&&t==A.CHAR_V||e&&t==A.CHAR_X||t>=A.END&&t<=A.DOWN?!0:!1}function i(n,t){n=n||window.event;var e=n.which||n.keyCode||0,i=String.fromCharCode(e);(e==A.RETURN||e==A.BACKSPACE||e==A.DELETE)&&r(n,t),a(i)||c(e)||i.match(/\d/gi)||n.preventDefault()}function r(n,t){var e,i=l(n),r=i.value,o=r.split(""),u=new Array;o.forEach(function(n){(n.match(/[0-9]/gi)||n.match(/[\n\r]/g))&&u.push(n)}),e=u.length>0?u.join(""):"",t===!0&&(e=E(e)),i.value=e}function o(n){var t=l(n),e=t.currentStyle||document.defaultView.getComputedStyle(t,""),i=e.getPropertyValue("ime-mode");C=t.style.imeMode||i,t.style.imeMode="disabled"}function u(n){var t=l(n);t.style.imeMode=C}function c(n){return n>=A.NUM_0&&n<=A.NUM_9||n>=A.NUMPAD_0&&n<=A.NUMPAD_9||n==A.TAB||n==A.RETURN||n==A.BACKSPACE||n==A.DELETE||n==A.SUBTRACT||n==A.MINUS||n==A.DECIMAL_POINT||n==A.COMMA||n==A.PERIOD||n==A.DECIMAL_POINT}function a(n){return n.match(/[^0-9|^.+-]/g)?!1:!0}function E(n){var t=n.toString().split(".");return t[0].replace(/\B(?=(\d{3})+(?=$))/g,",")+(t[1]?"."+t[1]:"")}function l(n){return n.target||n.srcElement||n.originalTarget}var f="input-numeric",C=!1,A={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,NUM_0:48,NUM_9:57,CHAR_C:67,CHAR_V:86,CHAR_X:88,NUMPAD_0:96,NUMPAD_9:105,SUBTRACT:109,DECIMAL_POINT:110,MINUS:173,COMMA:188,DASH:189,PERIOD:190},d=function(){return window.addEventListener?function(n,t,e){n.addEventListener(t,e,!1)}:window.attachEvent?function(n,t,e){var i=function(){e.call(n,window.event)};n.attachEvent("on"+t,i)}:function(n,t,e){element["on"+t]=e}}();return{set:t}}((this||0).self||global);