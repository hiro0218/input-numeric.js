/*!
 * input-numeric.js (0.1.4)
 * テキスト入力欄に対して、半角数字のみの入力制限を設けるライブラリ
 * Copyright (c) 2015 hiro - http://b.0218.jp/
 * This software is released under the MIT License.
 * https://github.com/hiro0218/input-numeric.js/LICENSE
 */
"use strict";var InputNumeric=function(n){function e(n){n=n||{};var e=document.getElementsByClassName(n.inputName||E),c=n.comma||!1,a=n.negative||!0,l=n.decimal||!1;[].forEach.call(e,function(n){A(n,"keydown",function(n){t(n)||i(n,c,a,l)}),A(n,"focus",function(n){o(n),r(n,c,a,l)}),A(n,"blur",function(n){u(n),r(n,c,a,l)})})}function t(n){n=n||window.event;var e=n.which||n.keyCode||0,t=n.ctrlKey||n.metaKey;return t&&e==C.CHAR_C||t&&e==C.CHAR_V||t&&e==C.CHAR_X||e>=C.END&&e<=C.DOWN?!0:!1}function i(n,e,t,i){n=n||window.event;var r=n.which||n.keyCode||0,o=String.fromCharCode(r);a(o)||c(r)||o.match(/\d/gi)||n.preventDefault()}function r(n,e,t,i){var r,o=f(n),u=o.value,c=u.split(""),a=new Array,E=!1;c.forEach(function(n){(n.match(/[0-9]/gi)||n.match(/[\n\r]/g))&&a.push(n),i===!0&&"."===n&&E===!1&&(a.push(n),E=!0)}),r=a.length>0?a.join(""):"",t===!0&&0===u.indexOf("-")&&(r="-"+r),e===!0&&(r=l(r)),o.value=r}function o(n){var e=f(n),t=e.currentStyle||document.defaultView.getComputedStyle(e,""),i=t.getPropertyValue("ime-mode");d=e.style.imeMode||i,e.style.imeMode="disabled"}function u(n){var e=f(n);e.style.imeMode=d}function c(n){return n>=C.NUM_0&&n<=C.NUM_9||n>=C.NUMPAD_0&&n<=C.NUMPAD_9||n==C.TAB||n==C.RETURN||n==C.BACKSPACE||n==C.DELETE||n==C.SUBTRACT||n==C.MINUS||n==C.DECIMAL_POINT||n==C.COMMA||n==C.PERIOD||n==C.DECIMAL_POINT}function a(n){return n.match(/[^0-9|^.+-]/g)?!1:!0}function l(n){var e=n.toString().split(".");return e[0].replace(/\B(?=(\d{3})+(?=$))/g,",")+(e[1]?"."+e[1]:"")}function f(n){return n.target||n.srcElement||n.originalTarget}var E="input-numeric",d=!1,C={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,NUM_0:48,NUM_9:57,CHAR_C:67,CHAR_V:86,CHAR_X:88,NUMPAD_0:96,NUMPAD_9:105,SUBTRACT:109,DECIMAL_POINT:110,MINUS:173,COMMA:188,DASH:189,PERIOD:190},A=function(){return window.addEventListener?function(n,e,t){n.addEventListener(e,t,!1)}:window.attachEvent?function(n,e,t){var i=function(){t.call(n,window.event)};n.attachEvent("on"+e,i)}:function(n,e,t){element["on"+e]=t}}();return{set:e}}((this||0).self||global);